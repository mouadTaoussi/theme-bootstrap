$slider-margin: .4em 0 !default;
$slider-height: $form-range-track-height !default; // default  $form-range-track-height
$slider-width: $form-range-track-width !default;
$slider-border-radius: $form-range-track-border-radius !default;

$slider-track-box-shadow: $form-range-track-box-shadow !default;
$slider-track-background-color: transparent !default;
$slider-track-cursor: $form-range-track-cursor !default;

$slider-thumb-width: $form-range-thumb-width !default;
$slider-thumb-height: $form-range-thumb-height !default;

$slider-tick-to-track-ratio: 0.5 !default;
$slider-tick-width: 3px !default;
$slider-tick-height: 5px !default;
$slider-tick-radius: 3px !default;
$slider-tick-background-color: $grey-dark !default;

$slider-small: calc(#{$slider-height} - .3em) !default;
$slider-medium: $slider-height !default;
$slider-large: calc(#{$slider-height} + .1em) !default;

$slider-thumb-small: $slider-thumb-height !default;
$slider-thumb-medium: calc(#{$slider-thumb-height} * 1.5) !default;
$slider-thumb-large: calc(#{$slider-thumb-height} * 2) !default;


// $form-range-track-width:          100%;
// $form-range-track-height:         .5rem;

// $form-range-track-cursor:         pointer;
// $form-range-track-bg:             $gray-300;
// $form-range-track-border-radius:  1rem;
// $form-range-track-box-shadow:     $box-shadow-inset;

// $form-range-thumb-width:                   1rem;
// $form-range-thumb-height:                  $form-range-thumb-width;

// $form-range-thumb-bg:                      $component-active-bg;
// $form-range-thumb-border:                  0;
// $form-range-thumb-border-radius:           1rem;
// $form-range-thumb-box-shadow:              0 .1rem .25rem rgba($black, .1);
// $form-range-thumb-focus-box-shadow:        0 0 0 1px $body-bg, $input-focus-box-shadow;
// $form-range-thumb-focus-box-shadow-width:  $input-focus-width; // For focus box shadow issue in Edge
// $form-range-thumb-active-bg:               tint-color($component-active-bg, 70%);
// $form-range-thumb-disabled-bg:             $gray-500;
// $form-range-thumb-transition:              background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;


.slider {
    margin: $slider-margin;
    position: relative;
    width: $slider-width;
    height: $slider-height; // default size
    background-color: $form-range-track-bg;
    border-radius: $slider-border-radius;
    cursor: $slider-track-cursor;
    box-shadow: $slider-track-box-shadow;

    .slider-track {
        display: flex;
        align-items: center;
        // position: relative;
        cursor: $slider-track-cursor;
        background-color: $slider-track-background-color;
        box-shadow: $slider-track-box-shadow;

        .slider-fill {
            position: absolute;
            left: 0%;
            background-color: transparent; // default variant
            height: 100%;
            border-radius: $slider-border-radius;
            // Fix alignment in IE 11. Cancel out for others
            top: 50%;
            transform: translateY(-50%);
            z-index: 999;
            
            @each $name, $pair in $theme-colors {
               &.is-#{$name} {
                    background-color: $pair;
                } 
            }
        }
        .slider-thumb-wrapper {
            display: inline-flex;
            align-items: center;
            position: absolute;
            cursor: grab;
            transform: translate(-50%, -50%);
            top: 50%;
            flex-direction: column; // Fix shrinked thumb at the end in IE 11

            .slider-thumb {
                background-color: $form-range-thumb-bg; // default variant
                height: $slider-thumb-height; // default size
                width:$slider-thumb-width; // default size
                border-radius: $form-range-thumb-border-radius;
                box-shadow: $form-range-thumb-box-shadow;
                transition: $form-range-thumb-transition;

                &:focus {
                    transform: scale(1.50);
                    box-shadow: $form-range-thumb-focus-box-shadow;
                }
                &:active {
                    background-color: $form-range-thumb-active-bg;
                }
                // squared thumb
                &.is-rounded {
                    border-radius: 50%;
                }
            }

            &.is-dragging {
                cursor: grabbing;
                .slider-thumb {
                    transform: scale(1.50);
                }
            }
            &.has-indicator {
                padding: 16px 10px;
                display: flex;
                align-items: center;
                width: auto;
            }
            // Tooltip
            .b-tooltip {
                @each $name, $pair in $theme-colors {
                   &.is-#{$name} {
                        .slider-thumb {
                            background-color: $pair;
                        }
                    } 
                }
            }
        }
        // tick
        .slider-tick {
            position: absolute;
            width: $slider-tick-width;
            height: $slider-tick-height;
            transform: translate(-50%, -50%);
            top: 50%;
            background: $slider-tick-background-color;
            border-radius: $slider-tick-radius;
            &.is-tick-hidden {
                background: transparent;
            }
            .slider-tick-label {
               margin: 5px;
            }
        }
    }
    &.is-disabled {
        cursor: not-allowed;
        opacity: .5;
        background-color: $form-range-thumb-disabled-bg;
    }
    // Size
    &.is-small {
        height: $slider-small;
        .slider-track {
            .slider-thumb {
                height: $slider-thumb-small;
                width: $slider-thumb-small;
            }
        }
    }
    &.is-medium {
        height: $slider-medium;
        .slider-track { 
            .slider-thumb {
                height: $slider-thumb-medium;
                width: $slider-thumb-medium;
            }
        }
    }
    &.is-large {
        height: $slider-large;
        .slider-track {
            .slider-thumb {
                height: $slider-thumb-large;
                width: $slider-thumb-large;
            }
        }
    }
}