/* @docs */
$sidebar-reduced-width: 5rem !default;
$sidebar-reduced-height: 10vh !default;
/* @docs */

/* @bootstrap docs */
// $offcanvas-padding-y:               $modal-inner-padding;
// $offcanvas-padding-x:               $modal-inner-padding;
// $offcanvas-horizontal-width:        400px;
// $offcanvas-vertical-height:         30vh;
// $offcanvas-transition-duration:     .3s;
// $offcanvas-border-color:            $modal-content-border-color;
// $offcanvas-border-width:            $modal-content-border-width;
// $offcanvas-title-line-height:       $modal-title-line-height;
// $offcanvas-bg-color:                var(--#{$prefix}body-bg);
// $offcanvas-color:                   var(--#{$prefix}body-color);
// $offcanvas-box-shadow:              $modal-content-box-shadow-xs;
// $offcanvas-backdrop-bg:             $modal-backdrop-bg;
// $offcanvas-backdrop-opacity:        $modal-backdrop-opacity;
/* @bootstrap docs */

@mixin size($height, $width) {
  &.offcanvas-start,
  &.offcanvas-end {
    --bs-offcanvas-width: #{$width};
  }

  &.offcanvas-top,
  &.offcanvas-bottom {
    --bs-offcanvas-height: #{$height};
  }
}

.sidebar {
  .offcanvas-backdrop {
    @extend .show;
  }

  .offcanvas {
    @extend .show;

    .btn-close {
      position: absolute;
      right: 0.5rem;
      top: 0.5rem;
    }

    // Colors
    @include variant-text-bg();

    &.is-fullwidth {
      @extend .is-expanded;
    }

    &:not(.is-fullheight) {
      bottom: unset;
    }

    // reduced
    &.is-reduced {
      transition: width $speed-slow $easing, height $speed-slow $easing;

      @include size($sidebar-reduced-height, $sidebar-reduced-width);

      &.is-reduced-expand:hover:not(.is-reduced-delayed) {
        &.is-fullwidth {
          @include size(100%, 100%h);
        }

        &:not(.is-fullwidth) {
          @include size(
            $offcanvas-vertical-height,
            $offcanvas-horizontal-width
          );

          &.is-reduced-expand-fixed {
            position: fixed;
          }
        }
      }
    }
  }
}
